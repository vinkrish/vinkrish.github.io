{
    "componentChunkName": "component---src-templates-blog-post-js",
    "path": "/bash/",
    "result": {"data":{"site":{"siteMetadata":{"title":"Home","author":"Vinay"}},"markdownRemark":{"id":"6452293e-4838-5b3b-9469-3e632a25adaa","excerpt":"You may not be a system admin, but its not an excuse for not knowing some bash.","html":"<p>You may not be a system admin, but its not an excuse for not knowing some bash.</p>\n<p><div id=\"gist92575633\" class=\"gist\">\n    <div class=\"gist-file\" translate=\"no\" data-color-mode=\"light\" data-light-theme=\"light\">\n      <div class=\"gist-data\">\n        <div class=\"js-gist-file-update-container js-task-list-container\">\n  <div id=\"file-bash_command-md\" class=\"file my-2\">\n      <div id=\"file-bash_command-md-readme\" class=\"Box-body readme blob js-code-block-container p-5 p-xl-6 \">\n    <article class=\"markdown-body entry-content container-lg\" itemprop=\"text\"><p dir=\"auto\"><code>clear</code><br>\n<code>sudo apt=get update &amp;&amp; sudo apt-get upgrade</code></p>\n<pre><code>whoami\nhostname\nls\nls -l\n</code></pre>\n<p dir=\"auto\"><strong>To list hidden folder and files</strong><br>\n<code>ls -la</code><br>\nFolders<br>\n<code>ls -l -G</code><br>\n<code>ls -l --no-group</code><br>\n<code>man ls</code></p>\n<p dir=\"auto\"><strong>Print Working Directory</strong><br>\n<code>pwd</code></p>\n<p dir=\"auto\">**Print Environment Variable\n<code>printenv</code></p>\n<p dir=\"auto\"><strong>change directory</strong><br>\n<code>cd /bin</code></p>\n<p dir=\"auto\"><strong>Home directory</strong><br>\n<code>cd ~</code></p>\n<p dir=\"auto\"><strong>Entries that starts with p</strong><br>\n<code>ls -l /bin/p*</code></p>\n<p dir=\"auto\"><strong>At root</strong><br>\n<code>ls -l /</code></p>\n<p dir=\"auto\"><code>ls -l /var</code></p>\n<p dir=\"auto\"><strong>Files and User Permissions</strong></p>\n<p dir=\"auto\">Below is the result of <code>ls -l</code> command:<br>\n<code>-rwxr-xr-x  1 vinkrish  staff    3818 Feb  1  2000 program.sh</code></p>\n<p dir=\"auto\">Observations:</p>\n<ul dir=\"auto\">\n<li><code>-</code> beginning character tells it's a file, d is for directory</li>\n<li>Next 3 characters specify read, write and execute permissions for owner</li>\n<li>Next 3 characters specify group permissions</li>\n<li>Next 3 characters specify other user permissions</li>\n<li>1 specifies file references</li>\n<li>vinkrish: Owner</li>\n<li>staff: Group</li>\n<li>3818: file size in bytes</li>\n<li>02/01/2000: Last modified date</li>\n<li>program.sh: name of the file</li>\n</ul>\n<p dir=\"auto\"><strong>Switch user to root user for the session, terminal will show now running as root (avoids entering sudo each time!)</strong><br>\n<code>sudo su</code></p>\n<p dir=\"auto\"><strong>Environment Variable</strong></p>\n<pre><code>export PORT=3000\nprocess.env.PORT\n</code></pre>\n<p dir=\"auto\"><strong>To print out content of file</strong><br>\n<code>cat /var/file.txt</code></p>\n<p dir=\"auto\"><strong>To print line numbers</strong><br>\n<code>cat -n /var/file.txt</code></p>\n<p dir=\"auto\"><code>tail /var/file.txt</code></p>\n<p dir=\"auto\"><strong>To open just content without previous commands</strong><br>\n<code>less /var/file.txt</code></p>\n<pre><code>g -&gt; go to beginning of file  \nShift + g -&gt; go to end of file  \n/word + enter -&gt; searches the word in file  \n:q -&gt; quit\n</code></pre>\n<p dir=\"auto\"><strong>Open folder or file in default app</strong></p>\n<div class=\"highlight highlight-source-shell\" dir=\"auto\"><pre>open <span class=\"pl-c1\">.</span>\nopen folder/file.txt\nopen folder/file.asd -a TextEdit</pre></div>\n<p dir=\"auto\"><strong>To create a file</strong><br>\n<code>touch file.txt</code></p>\n<p dir=\"auto\"><strong>Write to a file (overwrites)</strong><br>\n<code>echo 'hello world!' &gt; file.txt</code></p>\n<p dir=\"auto\"><strong>To append file</strong><br>\n<code>echo ' appended' &gt;&gt; file.txt</code></p>\n<p dir=\"auto\"><strong>To create folder + intermediary folders with -p flag</strong></p>\n<div class=\"highlight highlight-source-shell\" dir=\"auto\"><pre>mkdir folder_name\nmkdir -p outer_folder/middle_folder/inner_folder\nls outer_folder/middle_folder\noutputs inner_folder</pre></div>\n<p dir=\"auto\"><strong>Delete file and folder</strong></p>\n<div class=\"highlight highlight-source-shell\" dir=\"auto\"><pre>rm file.txt\nrm -r folder_name\nrm -rf folder/\nrm -r <span class=\"pl-k\">*</span></pre></div>\n<p dir=\"auto\"><strong>Move Files</strong></p>\n<div class=\"highlight highlight-source-shell\" dir=\"auto\"><pre>mv <span class=\"pl-c1\">source</span> destination\nmv file.txt folder_name/file.txt</pre></div>\n<p dir=\"auto\"><strong>Rename file</strong><br>\n<code>mv file.txt renamed_file.txt</code></p>\n<p dir=\"auto\"><strong>Rename folder</strong><br>\n<code>mv folder_name/ renamed_folder_name</code></p>\n<p dir=\"auto\"><strong>Move all content from one folder to another</strong><br>\n<code>mv source_folder/* destination_folder/</code></p>\n<p dir=\"auto\"><strong>Copy file</strong><br>\n<code>cp file.txt destination_folder/file.txt</code></p>\n<p dir=\"auto\"><strong>Copy all files</strong><br>\n<code>cp -R source_folder/* destination_folder/</code></p>\n<p dir=\"auto\"><strong>Symbolic Link</strong></p>\n<pre><code>ln -s existing_file symbolic_link_file\nln -l symbolic_link_file\nrm symbolic_link_file\nunlink symbolic_link_file\n\nln -sf existing_file overwrite_symbolic_link_file\n\nln -s /Users/vinkrish/Workspace ~/workspace\nman ln\n</code></pre>\n<p dir=\"auto\"><strong>Extract tgz file</strong></p>\n<pre><code>tar -xvf file.tgz\ntar -xvzf file.tar.gz\ntar -xvf file.tar.gz\n</code></pre>\n<p dir=\"auto\"><strong>Find png images in a folder</strong><br>\n<code>find image_folder/ -name \"*.png\"</code></p>\n<p dir=\"auto\"><strong>Case insensitive search</strong><br>\n<code>find image_folder/ -iname \"*.jpg\"</code></p>\n<p dir=\"auto\"><strong>All folders (outer + inner)</strong><br>\n<code>find . -type d</code></p>\n<p dir=\"auto\"><strong>Find folders having images in their name</strong><br>\n<code>find . -type d -name \"images\"</code></p>\n<p dir=\"auto\"><strong>Deleting with find</strong><br>\n<code>find dist/ -name \"*.built.js\" -delete</code></p>\n<p dir=\"auto\"><strong>Add execute permission to user</strong><br>\n<code>chmod u+x script.sh</code></p>\n<p dir=\"auto\"><strong>Add Write persmission to all users</strong><br>\n<code>chmod a+w /var/file.txt</code></p>\n<p dir=\"auto\"><strong>Remove Write persmission to all users</strong><br>\n<code>chmod a-w /var/file.txt</code></p>\n<p dir=\"auto\"><strong>Change owner</strong><br>\n<code>sudo chown vinay /var/file.txt</code></p>\n<p dir=\"auto\"><strong>Change permission so that you don't have to use sudo</strong><br>\n<code>chmod u+w /var/file.txt</code></p>\n<p dir=\"auto\"><code>find /var/log/syslog* -print0 | xargs</code><br>\n<code>find /var/log/syslog* -type f</code></p>\n<p dir=\"auto\"><strong>To use pipes properly</strong><br>\n<code>find /var/log/syslog* -type f -print0 | xargs -0 chmod a+r</code></p>\n<p dir=\"auto\"><strong>To search in concatinated file content</strong><br>\ngrep looks for matching lines in command input</p>\n<pre><code>find /var/log/syslog* -type f -print0 | xargs -0 cat | grep \"SearchTerm\"\nfind /var/log/syslog* -type f -print0 | xargs -0 cat | grep \"SearchTerm.*filterFurther\"\n\nTo count number of occurances:\nfind /var/log/syslog* -type f -print0 | xargs -0 cat | grep -c \"SearchTerm.*filterFurther\"\n</code></pre>\n<div class=\"highlight highlight-source-shell\" dir=\"auto\"><pre>ifconfig\nifconfig <span class=\"pl-k\">|</span> grep -E <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>inet6.*autoconf<span class=\"pl-pds\">\"</span></span>\nifconfig <span class=\"pl-k\">|</span> grep -E <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>inet6.*autoconf<span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">|</span> head -n 1\nifconfig <span class=\"pl-k\">|</span> grep -E <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>inet6.*autoconf<span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">|</span> head -n 1 <span class=\"pl-k\">|</span>  cut -d <span class=\"pl-s\"><span class=\"pl-pds\">\"</span> <span class=\"pl-pds\">\"</span></span> -f 2</pre></div>\n<p dir=\"auto\"><strong>Text editor</strong><br>\n<code>nano file-name.sh</code></p>\n<p dir=\"auto\"><strong>To generate public and private key with comment to identify</strong></p>\n<pre><code>ssh-keygen -b 2048 -t rsa -C vinay@localhost.com\n(or)\nssh-keygen -t ed25519 -C \"&lt;comment&gt;\"\n</code></pre>\n<p dir=\"auto\"><code>cd ~/.ssh</code></p>\n<p dir=\"auto\">look at the permission\n<code>ls -l</code></p>\n<p dir=\"auto\"><code>ls .ssh</code><br>\n<code>cat .ssh/id_rsa.pub</code></p>\n<p dir=\"auto\"><strong>Save the public key on server</strong><br>\n<code>ssh-copy-id -i .ssh/id_rsa.pub vinay@machine-name</code></p>\n<div class=\"markdown-heading\" dir=\"auto\"><h3 class=\"heading-element\" dir=\"auto\">SCP (Secure Copy)</h3><a id=\"user-content-scp-secure-copy\" class=\"anchor\" aria-label=\"Permalink: SCP (Secure Copy)\" href=\"#scp-secure-copy\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div>\n<p dir=\"auto\"><strong>Copy file from a remote host to local host</strong><br>\n<code>scp username@from_host:file.txt /local/directory/</code></p>\n<p dir=\"auto\"><strong>Copy file from local host to a remote host</strong><br>\n<code>scp file.txt username@to_host:/remote/directory/</code></p>\n<p dir=\"auto\"><strong>Copy directory from a remote host to local host</strong><br>\n<code>scp -r username@from_host:/remote/directory/  /local/directory/</code></p>\n<p dir=\"auto\"><strong>Copy directory from local host to a remote host</strong><br>\n<code>scp -r /local/directory/ username@to_host:/remote/directory/</code></p>\n<p dir=\"auto\"><strong>Copy file from remote host to remote host</strong><br>\n<code>scp username@from_host:/remote/directory/file.txt username@to_host:/remote/directory/</code></p>\n<div class=\"markdown-heading\" dir=\"auto\"><h3 class=\"heading-element\" dir=\"auto\">Bash Script</h3><a id=\"user-content-bash-script\" class=\"anchor\" aria-label=\"Permalink: Bash Script\" href=\"#bash-script\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div>\n<div class=\"highlight highlight-source-shell\" dir=\"auto\"><pre><span class=\"pl-c\"><span class=\"pl-c\">#!</span>/bin/bash</span>\n\n<span class=\"pl-k\">while</span> [ <span class=\"pl-c1\">:</span> ]\n<span class=\"pl-k\">do</span>\n  originalAddress=<span class=\"pl-s\"><span class=\"pl-pds\">$(</span>ifconfig <span class=\"pl-k\">|</span> grep -E <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>inet6.*autoconf<span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">|</span> head -n 1 <span class=\"pl-k\">|</span>  cut -d <span class=\"pl-s\"><span class=\"pl-pds\">\"</span> <span class=\"pl-pds\">\"</span></span> -f 2<span class=\"pl-pds\">)</span></span>\n  <span class=\"pl-c1\">echo</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"pl-s\"><span class=\"pl-pds\">$(</span>date<span class=\"pl-pds\">)</span></span> <span class=\"pl-smi\">$originalAddress</span><span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">&gt;&gt;</span> <span class=\"pl-k\">~</span>/ip.txt\n  sleep 10\n<span class=\"pl-k\">done</span></pre></div>\n<ul dir=\"auto\">\n<li>Specify BASH shell</li>\n<li>assign value to variable (note: no spaces around <code>=</code>)</li>\n<li>make script executable</li>\n<li>run script</li>\n<li>watch file for appended content with flag <code>-f</code></li>\n</ul>\n<div class=\"highlight highlight-source-shell\" dir=\"auto\"><pre>chomod u+x script.sh\n./script.sh\ntail -f ip.txt</pre></div>\n<div class=\"markdown-heading\" dir=\"auto\"><h3 class=\"heading-element\" dir=\"auto\">CRON Job</h3><a id=\"user-content-cron-job\" class=\"anchor\" aria-label=\"Permalink: CRON Job\" href=\"#cron-job\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div>\n<div class=\"highlight highlight-source-shell\" dir=\"auto\"><pre><span class=\"pl-c\"><span class=\"pl-c\">#!</span>/bin/bash</span>\n\noriginalAddress=<span class=\"pl-s\"><span class=\"pl-pds\">$(</span>ifconfig <span class=\"pl-k\">|</span> grep -E <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>inet6.*autoconf<span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">|</span> head -n 1 <span class=\"pl-k\">|</span>  cut -d <span class=\"pl-s\"><span class=\"pl-pds\">\"</span> <span class=\"pl-pds\">\"</span></span> -f 2<span class=\"pl-pds\">)</span></span>\n<span class=\"pl-c1\">echo</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"pl-s\"><span class=\"pl-pds\">$(</span>date<span class=\"pl-pds\">)</span></span> <span class=\"pl-smi\">$originalAddress</span><span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">&gt;&gt;</span> <span class=\"pl-k\">~</span>/ip.txt</pre></div>\n<pre><code>crontab -e\n* * * * * ~/script.sh\n\ncrontab -r\n</code></pre>\n</article>\n  </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class=\"gist-meta\">\n        <a href=\"https://gist.github.com/vinkrish/e45f000c3c10fbd731b2dc91d0dcdcd2/raw/6d29699b1c7bf9566007b8794feaccac4521031c/bash_command.md\" style=\"float:right\" class=\"Link--inTextBlock\">view raw</a>\n        <a href=\"https://gist.github.com/vinkrish/e45f000c3c10fbd731b2dc91d0dcdcd2#file-bash_command-md\" class=\"Link--inTextBlock\">\n          bash_command.md\n        </a>\n        hosted with &#10084; by <a class=\"Link--inTextBlock\" href=\"https://github.com\">GitHub</a>\n      </div>\n    </div>\n</div></p>","frontmatter":{"title":"You have to BASH!","date":"January 26, 2019"}}},"pageContext":{"slug":"/bash/","previous":{"fields":{"slug":"/markdown/"},"frontmatter":{"title":"First Thing First - Learn Markdown"}},"next":{"fields":{"slug":"/automate/"},"frontmatter":{"title":"Automate - Remember DRY!"}}}},
    "staticQueryHashes": ["3128451518","3297874162"]}