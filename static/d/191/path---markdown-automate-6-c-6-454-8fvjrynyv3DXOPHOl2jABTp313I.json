{"data":{"site":{"siteMetadata":{"title":"TunedReality","author":"Vinay"}},"markdownRemark":{"id":"5ecd6b88-2b2d-5b35-ab4f-a854a4af986e","excerpt":"Every time I create new blog these are the steps involved. gatsby build Remove content of Github Pages repo and push the commit, this ensures unused files are…","html":"<p>Every time I create new blog these are the steps involved.</p>\n<ul>\n<li>gatsby build</li>\n<li>Remove content of Github Pages repo and push the commit, this ensures unused files are removed.</li>\n<li>Copy content of public folder from source repo to GitHub Pages repo, push the commit.</li>\n<li>Finally source repo needs to be commited and pushed.</li>\n</ul>\n<p>As I was doing it manually, this is against DRY (Don’t Repeat Yourself) principle.</p>\n<p>This is how I come up with automating this task with two bash scripts:</p>\n<ol>\n<li>\n<p>One repo requires cleaning old content or else unused files will live on.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token shebang important\">#!/bin/bash</span>\n\nREPO_DIR<span class=\"token operator\">=</span>/Users/vinkrish/Documents/workspace/javascript/vinkrish.github.io\n<span class=\"token function\">cd</span> <span class=\"token variable\">$REPO_DIR</span>\n<span class=\"token function\">rm</span> -r *\n\n<span class=\"token function\">git</span> add <span class=\"token keyword\">.</span>\n<span class=\"token function\">git</span> commit -m <span class=\"token string\">\"deleting cache and previous files\"</span>\n<span class=\"token function\">git</span> push origin master</code></pre></div>\n</li>\n<li>\n<p>Updating two repos with newly added blog post</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token shebang important\">#!/bin/bash</span>\n\n<span class=\"token function\">read</span> blog_name\nREPO_DIR<span class=\"token operator\">=</span>/Users/vinkrish/Documents/workspace/javascript/vinkrish.github.io\nSRC_DIR<span class=\"token operator\">=</span>/Users/vinkrish/Documents/workspace/javascript/my-blog-starter/public\n\n<span class=\"token function\">cp</span> -R <span class=\"token variable\">$SRC_DIR</span>/* <span class=\"token variable\">$REPO_DIR</span>\n\n<span class=\"token function\">cd</span> <span class=\"token variable\">$REPO_DIR</span>\n<span class=\"token function\">git</span> add <span class=\"token keyword\">.</span>\n<span class=\"token function\">git</span> commit -m <span class=\"token string\">\"added <span class=\"token variable\">$blog_name</span>\"</span>\n<span class=\"token function\">git</span> push origin master\n\n<span class=\"token function\">cd</span> <span class=\"token variable\">$SRC_DIR</span>\n<span class=\"token function\">git</span> add <span class=\"token keyword\">.</span>\n<span class=\"token function\">git</span> commit -m <span class=\"token string\">\"added <span class=\"token variable\">$blog_name</span>\"</span>\n<span class=\"token function\">git</span> push origin master</code></pre></div>\n</li>\n</ol>","frontmatter":{"title":"Automate - Remember DRY!","date":"January 27, 2019"}}},"pageContext":{"slug":"/markdown/automate/","previous":{"fields":{"slug":"/markdown/bash/"},"frontmatter":{"title":"You have to BASH!"}},"next":null}}